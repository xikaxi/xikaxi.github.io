<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Redis 设置密码</title>
    <link href="/2021/03/25/Redis%E8%AE%BE%E7%BD%AE%E5%AF%86%E7%A0%81/"/>
    <url>/2021/03/25/Redis%E8%AE%BE%E7%BD%AE%E5%AF%86%E7%A0%81/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="记一次远程连接redis的时候-连接不上"><a href="#记一次远程连接redis的时候-连接不上" class="headerlink" title="记一次远程连接redis的时候 连接不上"></a><font color=" #008080">记一次远程连接redis的时候 连接不上</font></h2><figure class="highlight python"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs python">就很奇怪, 明明服务器里面的redis没有设置过密码 就连使用python连接的时候都没有输入过密码连接redis 莫名其妙今天/<span class="hljs-number">12</span>-07连接出错<br></code></pre></div></td></tr></table></figure><p><code>报错提要</code></p><figure class="highlight python"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs python">AUTH ERROR<br>报错信息已删除...<br>看到这里 莫名其妙 以前连接的好好的 也没修改过什么配置文件...<br>A君: 看一下能不能连接上?<br>B君: 不能 还是一样的问题 AUTH ERROR...<br>A君: 我去远程检查一下<br></code></pre></div></td></tr></table></figure><p><img src="https://ae01.alicdn.com/kf/U2fd4d49566cf4a07a70b163d790dbb57u.jpg" alt="bug王"></p><h2 id="随后-A君-来到远程-查看了一下redis的进程与是否运行状态"><a href="#随后-A君-来到远程-查看了一下redis的进程与是否运行状态" class="headerlink" title="随后 A君 来到远程 查看了一下redis的进程与是否运行状态"></a><font color=" #3CB371">随后 A君 来到远程 查看了一下redis的进程与是否运行状态</font></h2><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> service  redis status</span><br>运行状态效果如下:<br>● redis-server.service - Advanced key-value store<br>   Loaded: loaded (/lib/systemd/system/redis-server.service; enabled; vendor preset: enabled)<br>   Active: active (running) since Mon 2020-12-07 11:19:27 CST; 3h 27min ago<br>     Docs: http://redis.io/documentation,<br>           man:redis-server(1)<br><br><span class="hljs-meta">$</span><span class="bash"> systemctl restart redis.service <span class="hljs-comment"># 注意这句 对于我的redis不太友好...一直没有重启成功.. 所以没必要</span></span><br><br>随后 A君 又查看一下redis的进程<br><span class="hljs-meta">$</span><span class="bash"> ps -ef|grep redis</span><br>redis    10571     1  0 11:19 ?        00:00:11 /usr/bin/redis-server 0.0.0.0:6379<br>root     13533 13490  0 14:48 pts/2    00:00:00 grep --color=auto redis<br><br>都没啥问题 那么问题来了 这是什么问题?...<br></code></pre></div></td></tr></table></figure><h2 id="排除redis-conf文件的修改问题"><a href="#排除redis-conf文件的修改问题" class="headerlink" title="排除redis.conf文件的修改问题"></a><font color="#3CB371">排除redis.conf文件的修改问题</font></h2><figure class="highlight python"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs python">因为以前在设置redis的时候 就已经把 bind <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span> 修改过了<br>具体操作:<br>    <span class="hljs-number">1.</span> 进入redis的文件下 ubuntu下的redis<br>    cd /etc/redis/<br>    <span class="hljs-number">2.</span> 修改redis.conf文件 将bind <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span> 改成 bind <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span><br>    vim redis.conf <span class="hljs-comment"># 注意如果需要权限 则需要在vim 前面加 sudo</span><br></code></pre></div></td></tr></table></figure><h2 id="kill掉redis-server进程"><a href="#kill掉redis-server进程" class="headerlink" title="kill掉redis-server进程"></a><font color="#3CB371">kill掉redis-server进程</font></h2><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">1. 先查看一下进程号<br><span class="hljs-meta">$</span><span class="bash"> ps -ef|grep redis</span><br>redis    10571     1  0 11:19 ?        00:00:11 /usr/bin/redis-server 0.0.0.0:6379<br>root     13533 13490  0 14:48 pts/2    00:00:00 grep --color=auto redis<br><br>2. kill进程号 注意权限问题 sudo<br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">kill</span> -9 l0571</span><br></code></pre></div></td></tr></table></figure><h2 id="在redis目录下-重新启动redis"><a href="#在redis目录下-重新启动redis" class="headerlink" title="在redis目录下 重新启动redis"></a><font color="#3CB371">在redis目录下 重新启动redis</font></h2><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> /etc/redis<span class="hljs-comment"># redis-server ./redis.conf</span></span><br>配置了redis.conf 重启一下生效<br></code></pre></div></td></tr></table></figure><blockquote><p><font color="#3CB371">其实 重启一下就可以连接到redis的 但是阿里云一直在提示 服务器不安全-redis没有设置密码连接那些..所以 索性这次就配置上</font></p></blockquote><h2 id="此时-使用redis-cli-进入redis客户端-设置个密码…"><a href="#此时-使用redis-cli-进入redis客户端-设置个密码…" class="headerlink" title="此时 使用redis-cli 进入redis客户端 设置个密码…"></a><font color="#3CB371">此时 使用redis-cli 进入redis客户端 设置个密码…</font></h2><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">进入客户端后 直接执行config set requirepass XXXXXXX<br>redis-cli<br>127.0.0.1:6379&gt; config set requirepass 密码<br>127.0.0.1:6379&gt; exit 退出<br></code></pre></div></td></tr></table></figure><h2 id="最后-使用django连接redis-加个密码"><a href="#最后-使用django连接redis-加个密码" class="headerlink" title="最后 使用django连接redis 加个密码"></a><font color="#3CB371">最后 使用django连接redis 加个密码</font></h2><figure class="highlight python"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs python"><span class="hljs-string">&#x27;default&#x27;</span>: &#123;<br>        <span class="hljs-string">&#x27;BACKEND&#x27;</span>: <span class="hljs-string">&#x27;django_redis.cache.RedisCache&#x27;</span>,<br>        <span class="hljs-string">&#x27;LOCATION&#x27;</span>: <span class="hljs-string">&#x27;redis://:你的密码@127.0.0.1:6379/0&#x27;</span>,<br>        <span class="hljs-string">&#x27;OPTIONS&#x27;</span>: &#123;<br>            <span class="hljs-string">&#x27;CLIENT_CLASS&#x27;</span>: <span class="hljs-string">&#x27;django_redis.client.DefaultClient&#x27;</span>,<br>        &#125;<br>    &#125;,<br><br>注意密码前面的 : 号与后面的 @<br></code></pre></div></td></tr></table></figure><h5 id="取消设置密码"><a href="#取消设置密码" class="headerlink" title="取消设置密码"></a><strong><code>取消设置密码</code></strong></h5><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">进入redis-cli 客户端<br>1. auth 密码<br>2. config set requirepass &#x27;&#x27;<br>3. exit<br></code></pre></div></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Windows下远程连接MySQL</title>
    <link href="/2021/03/25/mysql%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/"/>
    <url>/2021/03/25/mysql%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="windows下连接远程MySQL"><a href="#windows下连接远程MySQL" class="headerlink" title="windows下连接远程MySQL"></a><font color="#00BBFF">windows下连接远程MySQL</font></h2><p><code>报错提要</code></p><figure class="highlight powershell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs powershell">单纯想记录一下<br></code></pre></div></td></tr></table></figure><p><img src="https://ae01.alicdn.com/kf/U2fd4d49566cf4a07a70b163d790dbb57u.jpg" alt="bug王"></p><h2 id="登入MySQL-输入以下命令"><a href="#登入MySQL-输入以下命令" class="headerlink" title="登入MySQL 输入以下命令"></a><font color="#00BBFF">登入MySQL 输入以下命令</font></h2><figure class="highlight powershell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs powershell">(python36) root@xeswsd:<span class="hljs-comment"># mysql -uroot -pwodaonimade</span><br>mysql: [<span class="hljs-type">Warning</span>] <span class="hljs-keyword">Using</span> a password on the <span class="hljs-keyword">command</span> line interface can be insecure.<br>Welcome to the MySQL monitor.  Commands <span class="hljs-keyword">end</span> with ; or \g.<br>Your MySQL connection id is <span class="hljs-number">743</span><br>Server version: <span class="hljs-number">5.7</span>.<span class="hljs-number">30</span><span class="hljs-literal">-0ubuntu0</span>.<span class="hljs-number">16.04</span>.<span class="hljs-number">1</span><span class="hljs-literal">-log</span> (Ubuntu)<br><br>Copyright (c) <span class="hljs-number">2000</span>, <span class="hljs-number">2020</span>, Oracle and/or its affiliates. All rights reserved.<br><br>Oracle is a registered trademark of Oracle Corporation and/or its<br>affiliates. Other names may be trademarks of their respective<br>owners.<br><br><span class="hljs-built_in">Type</span> <span class="hljs-string">&#x27;help;&#x27;</span> or <span class="hljs-string">&#x27;\h&#x27;</span> <span class="hljs-keyword">for</span> help. <span class="hljs-built_in">Type</span> <span class="hljs-string">&#x27;\c&#x27;</span> to <span class="hljs-built_in">clear</span> the current input statement.<br><br>mysql&gt; GRANT all privileges on *.* TO <span class="hljs-string">&#x27;root&#x27;</span><span class="hljs-string">@&#x27;%&#x27; identified by &#x27;wodaonimade&#x27; WITH GRANT OPTION;</span><br><span class="hljs-string">Query OK, 0 rows affected, 1 warning (0.00 sec)</span><br><span class="hljs-string"></span><br><span class="hljs-string">mysql&gt; FLUSH PRIVILEGES;</span><br><span class="hljs-string">Query OK, 0 rows affected (0.00 sec)</span><br><span class="hljs-string"></span><br><span class="hljs-string">mysql&gt; quit;</span><br><span class="hljs-string">Bye</span><br></code></pre></div></td></tr></table></figure><ol><li>命令一 将本地localhost 更改成 %</li></ol><figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">all</span> privileges <span class="hljs-keyword">on</span> <span class="hljs-operator">*</span>.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">&#x27;root&#x27;</span>@<span class="hljs-string">&#x27;%&#x27;</span> identified <span class="hljs-keyword">by</span> <span class="hljs-string">&#x27;wodaonimade&#x27;</span> <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">GRANT</span> OPTION;<br></code></pre></div></td></tr></table></figure><ol start="2"><li>命令二 刷新权限</li></ol><figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql">FLUSH PRIVILEGES;<br></code></pre></div></td></tr></table></figure><ol start="3"><li>注意如果不是以上问题 请检查安全组 3306 是否打开</li></ol>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
      <category>MySQL</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MySQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
